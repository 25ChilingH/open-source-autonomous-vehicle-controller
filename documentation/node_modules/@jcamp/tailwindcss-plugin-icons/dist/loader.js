"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.loader = exports.isVSCode = exports.isNode = void 0;
const utils_1 = require("@iconify/utils");
exports.isNode = typeof process < 'u' && typeof process.stdout < 'u' && !process.versions.deno;
exports.isVSCode = exports.isNode && !!process.env.VSCODE_CWD;
function createNodeLoader() {
    return require('@iconify/utils/lib/loader/node-loader.cjs').loadNodeIcon;
}
function combineLoaders(loaders) {
    return ((...args) => {
        for (const loader of loaders) {
            const result = loader(...args);
            if (result)
                return result;
        }
    });
}
function loader(options = {}) {
    const loaders = [];
    if (exports.isNode && !exports.isVSCode)
        loaders.push(createNodeLoader());
    loaders.push(utils_1.loadIcon);
    return combineLoaders(loaders);
}
exports.loader = loader;
